### MANAGED BY PUPPET ###

user  <%= @user %>;
worker_processes  <%= @worker_processes %>;

error_log  <%= @error_log %>;
pid        <%= @pid %>;

events {
    worker_connections  <%= @worker_connection %>;
}

http {
    include       /etc/nginx/mime.types;
    default_type  <%= @default_type %>;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                        '$status $body_bytes_sent "$http_referer" '
                        '"$http_user_agent" "$http_x_forwarded_for"';

    access_log              <%= @access_log %>;
    client_max_body_size    <%= @client_max_body_size %>;
    sendfile                <%= @sendfile %>;
    autoindex               <%= @autoindex %>;
    #tcp_nopush             <%= @tcp_nopush %>;

    map $scheme $fastcgi_https {
        default off;
        https on;
    }

    keepalive_timeout  <%= @keepalive_timeout %>;

    gzip                <%= @gzip %>;
    gzip_disable        <%= @gzip_disable %>;
    gzip_vary           <%= @gzip_vary %>;
    gzip_proxied        <%= @gzip_proxied %>;
    gzip_comp_level     <%= @gzip_comp_level %>;
    gzip_buffers        <%= @gzip_buffers %>;
    gzip_http_version   <%= @gzip_http_version %>;
    gzip_types          <%= @gzip_types %>;

    send_timeout        <%= @send_timeout %>;
    proxy_read_timeout  <%= @proxy_read_timeout %>;

    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;

}

### MANAGED BY PUPPET ###